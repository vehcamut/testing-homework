Это мое решение домашнего задания ШРИ "Тестирование"

## Предисловие

ПРИВЕТ!

Если ты здесь, то тебе выпала участь проверять мое решение! Я рад видеть тебя в своем уютненьком репозитории!

<img src="https://img.freepik.com/free-vector/cute-cat-holding-fish-cartoon-icon-illustration-animal-food-icon-concept-isolated-flat-cartoon-style_138676-2171.jpg?w=740&t=st=1688364675~exp=1688365275~hmac=e0f4ab9baae1774e473dad18a3bd24c28f86883ba05ede833523005500a39ed0">

~~(это вроде как надо для использования картинки не обращай внимание (<a href="https://ru.freepik.com/free-vector/cute-cat-holding-fish-cartoon-icon-illustration-animal-food-icon-concept-isolated-flat-cartoon-style_10909207.htm#page=2&query=cute%20cat&position=10&from_view=search&track=ais">Изображение от catalyststuff</a> на Freepik)~~


# Это описание задачи
## Домашнее задание: Автотесты

Вам дано приложение — интернет магазин. С его помощью можно смотреть каталог товаров, добавлять товары в корзину и оформлять заказы.

Форкните этот репозиторий и напишите тесты, проверяющие правильность работы продуктовых сценариев. Проверяйте сценарии модульными/интеграционными тестами, на свое усмотрение.

Главный критерий проверки — автотесты должны находить баги. Дополнительный критерий — на каждый баг должно падать небольшое количество тестов (не больше 1-2).

### Функциональные требования

**Общие требования: &check;**
- &#x2611; вёрстка должна адаптироваться под ширину экрана (hermione / e2e)
- &#x2611; в шапке отображаются ссылки на страницы магазина, а также ссылка на корзину (nestjs)
- &#x2611; название магазина в шапке должно быть ссылкой на главную страницу (nestjs)
- &#x2611; на ширине меньше 576px навигационное меню должно скрываться за "гамбургер" (hermione / e2e)
  - &#x2611; при выборе элемента из меню "гамбургера", меню должно закрываться (hermione / e2e)

**Страницы: &check;**
- &#x2611; в магазине должны быть страницы: главная, каталог, условия доставки, контакты (nestjs)
- &#x2611; страницы главная, условия доставки, контакты должны иметь статическое содержимое (hermione / e2e)
  - &#x2611; то что страница статичная мы можем проверить, когда будем проверять, что страница адаптируется под ширину экрана (hermione / e2e)

**Каталог: &check;**
- &#x2611; в каталоге должны отображаться товары, список которых приходит с сервера (nestjs)
- &#x2611; для каждого товара в каталоге отображается название, цена и ссылка на страницу с подробной информацией о товаре
- &#x2611; на странице с подробной информацией отображаются: название товара, его описание, цена, цвет, материал и кнопка "добавить в корзину"
- &#x2611; если товар уже добавлен в корзину, в каталоге и на странице товара должно отображаться сообщение об этом
- &#x2611; если товар уже добавлен в корзину, повторное нажатие кнопки "добавить в корзину" должно увеличивать его количество
- &#x2611; содержимое корзины должно сохраняться между перезагрузками страницы

**Корзина: &check;**
- &#x2611; в шапке рядом со ссылкой на корзину должно отображаться количество не повторяющихся товаров в ней
- &#x2611; в корзине должна отображаться таблица с добавленными в нее товарами
- &#x2611; для каждого товара должны отображаться название, цена, количество , стоимость, а также должна отображаться общая сумма заказа
- &#x2611; в корзине должна быть кнопка "очистить корзину", по нажатию на которую все товары должны удаляться
- &#x2611; если корзина пустая, должна отображаться ссылка на каталог товаров

## ВАЖНОЕ

- Версия ноды: 16.20.1. Для переключения можно использовать nvm (Node Version Manager).
- На виндовс должен быть масштаб 100%
- Когда гермиона первый раз делает тесты надо выбрать эталонные скриншоты

## Как начать

```sh
# установите зависимости
npm ci

# соберите клиентский код приложения
npm run build

# запустите сервер
# после этого можете открыть приложение в браузере по адресу http://localhost:3000/hw/store
npm run start

# запустите гермиону (для установления образцов скриншотов)
npm run test:e2e:gui
```

## Как тестировать
```sh
# протестировать баг можно так
# на виндовс можно исопльзовать Git Bash
# снала запустить сервер с багом (в 1 терминале)
BUG_ID=1 npm run start
# запустить гермиону (в 2 терминале)
BUG_ID=1 npm tun test:e2e
# запустить юниты (в 3 терминале)
BUG_ID=1 npm run test:uint
```


# Прежде чем снимать баллы
Проверь правильно ли отработала гермиона.
На некоторых тестах гермиона выдает несколько заваленных тестов. Я бы мог сделать так, чтобы она выдавала только один, но мне показалось это неправильным. Я отталкивался от верстки и того, что она должна хорошо выглядеть при различных ширинах экрана. Поэтому на один баг может лететь верстка сразу нескольких тестов. Я ориентировался не по конкретным тестам, а по дескрайбам. Прошу это учесть.

Также гермиона проверяет работу многих модулей, и если какой-нибудь модуль полетел (unit отловил его), то пользовательский опыт пострадает, и гермиона тоже найдет ошибку.

## Как проверять

Вы можете запускать приложение с параметром `bug id`, который может принимать значение от 1 до 10. Каждое из значений `bug id` добавляет в работу приложения какой-то баг. Проверьте, что без параметра `bug id` все тесты проходят, а для каждого значения `bug id` падают 1-2 теста.

Как передать `bug id`:
- при запуске интеграционных тестов передавайте значение в параметре запроса, например, http://localhost:3000/hw/store/catalog/0?bug_id=9
- при запуске модульных тестов передавайте значение в переменной окружения `BUG_ID`, например, `BUG_ID=1 npm run test`

## Подытожим

Если хочешь отправляй мне свои ишуе (Issues), мне будет очень приятно (наверное).

Если не нравятся ишуе (Issues), пиши в телегу (она в профиле).
